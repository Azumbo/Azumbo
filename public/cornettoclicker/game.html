<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Cornetto Clicker</title>
  <!-- Basic styles for the mini game -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Main game container -->
  <div id="game">
    <!-- Score and misses -->
    <div id="scoreboard">
      <span id="score">0</span> ü•ê
      <span id="misses">0</span> ‚ùå
    </div>
    <!-- Growing croissant showing progress -->
    <div id="big">ü•ê</div>
    <!-- Player cup -->
    <div id="player">‚òï</div>
    <!-- Game over overlay -->
    <div id="gameover" class="hidden">
      <p id="gameover-text"></p>
      <button id="restart">Restart</button>
    </div>
  </div>

  <!-- Mobile Controls -->
  <div id="mobile-controls" class="mc hidden" aria-hidden="true">
    <button id="btn-left"  class="mc-btn" aria-label="Move left">‚óÄ</button>
    <button id="btn-right" class="mc-btn" aria-label="Move right">‚ñ∂</button>
  </div>

  <script src="./js/game.js"></script>
  <script src="./js/DesktopControls.js"></script>
  <script src="./js/MobileControls.js"></script>
  <script>
    (function initInput(){
      const isMobile = window.matchMedia('(pointer: coarse)').matches
                    || ('ontouchstart' in window) || (navigator.maxTouchPoints > 0);

      const root     = document.getElementById('game') || document.body;
      const ui       = document.getElementById('mobile-controls');
      const leftBtn  = document.getElementById('btn-left');
      const rightBtn = document.getElementById('btn-right');

      let input;
      if (isMobile) {
        ui.classList.remove('hidden');
        input = new MobileControls(root, leftBtn, rightBtn);
      } else {
        ui.classList.add('hidden');
        input = new DesktopControls();
      }
      window.__input = input;
    })();
  </script>
</body>
</html>
